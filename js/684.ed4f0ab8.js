(self["webpackChunkAutumn"]=self["webpackChunkAutumn"]||[]).push([[684],{1684:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-bridge-wrap"},[r("div",{staticClass:"page-bridge_content"},[r("a-row",{attrs:{type:"flex",justify:"start",gutter:10}},[r("a-col",{attrs:{order:1,xs:{order:2,span:24},md:{order:2,span:24},lg:{order:1,span:8},xxl:{order:1,span:8}}},[r("div",{staticClass:"page-bridge_intro page-bridge_card"},[r("div",{staticClass:"title_big"},[e._v(" "+e._s(e.$t("default.bridge"))+" ")]),r("div",{staticClass:"title_sub"},[e._v(" "+e._s(e.$t("bridge.bridgeTip1"))+" ")]),r("div",{staticClass:"bridge-intro-raw"},[r("div",[r("svg-icon",{attrs:{iconClass:"HEXAGONAL"}})],1),r("span",[e._v(e._s(e.$t("bridge.introLine1")))])]),r("div",{staticClass:"bridge-intro-raw"},[r("div",[r("svg-icon",{attrs:{iconClass:"HEXAGONAL"}})],1),r("span",[e._v(e._s(e.$t("bridge.introLine2")))])]),r("div",{staticClass:"bridge-intro-raw"},[r("div",[r("svg-icon",{attrs:{iconClass:"HEXAGONAL"}})],1),r("span",[e._v(e._s(e.$t("bridge.introLine3")))])]),r("a",{staticStyle:{"margin-top":"80px"},attrs:{target:"_blank",href:e.$t("default.docUrl")}},[e._v(" "+e._s(e.$t("bridge.userGuide"))+" ")]),r("a",{staticStyle:{"margin-top":"20px"},on:{click:function(t){return e.$router.push("proof")}}},[e._v(" "+e._s(e.$t("bridge.checkDetail"))+" ")]),r("a",{staticStyle:{"margin-top":"20px"},attrs:{target:"_blank",href:e.$t("default.telegramUrl")}},[e._v(" "+e._s(e.$t("bridge.help"))+" ")])])]),r("a-col",{attrs:{order:2,xs:{order:1,span:24},md:{order:1,span:24},lg:{order:2,span:16},xxl:{order:2,span:16}}},[r("div",{staticClass:"page-bridge_main page-bridge_card"},[r("div",{staticClass:"assets",staticStyle:{"margin-top":"40px"}},[r("p",[e._v(e._s(e.$t("bridge.asset")))]),r("a-select",{staticStyle:{width:"100%"},attrs:{"default-value":e.assetsType},on:{change:e.assetsChange}},e._l(e.assetsList,(function(t){return r("a-select-option",{key:t.name,attrs:{value:t.name,disabled:t.disabled}},[r("svg-icon",{attrs:{"icon-class":t.name}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1),r("div",{staticClass:"assetsSwap"},[r("div",{staticClass:"assetsSwap_from"},[r("p",[e._v(e._s(e.$t("bridge.from")))]),r("div",{staticClass:"box"},[r("div",[r("svg-icon",{attrs:{"icon-class":e.assetsSwap.from.icon}}),e.assetsSwap.from.badge?r("div",{staticClass:"badge"},[e._v(" "+e._s(e.assetsSwap.from.badge)+" ")]):e._e()],1),r("div",[e._v(" "+e._s(e.assetsSwap.from.name)+" ")])])]),r("a-button",{attrs:{icon:"arrow-right"},on:{click:function(t){var r;r=[e.assetsSwap.to,e.assetsSwap.from],e.assetsSwap.from=r[0],e.assetsSwap.to=r[1]}}}),r("div",{staticClass:"assetsSwap_to"},[r("p",[e._v(e._s(e.$t("bridge.to")))]),r("div",{staticClass:"box"},[r("div",[r("svg-icon",{attrs:{"icon-class":e.assetsSwap.to.icon}}),e.assetsSwap.to.badge?r("div",{staticClass:"badge"},[e._v(" "+e._s(e.assetsSwap.to.badge)+" ")]):e._e()],1),r("div",[e._v(" "+e._s(e.assetsSwap.to.name)+" ")])])])],1),r("div",{staticClass:"number"},[r("p",[e._v(e._s(e.$t("bridge.amount"))+" "),r("span",{staticClass:"max-btn",on:{click:function(t){return e.maxAmount()}}},[e._v("MAX")])]),r("a-input",{attrs:{size:"large",maxLength:48,placeholder:e.$t("bridge.minAmount")+e.currentBridge.min,suffix:"TRON"===e.assetsSwap.to.id?"W"+e.assetsType:e.assetsType},model:{value:e.assetsAmount,callback:function(t){e.assetsAmount=t},expression:"assetsAmount"}}),r("p",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e.$t("bridge.walletBalance"))+" "),r("span",{staticClass:"balance-type"},[e._v(e._s("TRON"===e.assetsSwap.to.id?"W"+e.assetsType:e.assetsType))]),r("span",{staticClass:"balance-value"},[e._v(" "+e._s(e.$eventBus.humanFriendlyBalance("TRON"===e.assetsSwap.from.id?e.currentBridge.balance:e.currentBridge.HECOBalance,e.currentBridge.decimals,4))+" ")])]),r("p",{staticStyle:{"margin-top":"25px"}},[e._v(e._s(e.$t("bridge.targetAddress")))]),r("a-input",{attrs:{size:"large",maxLength:e.assetsSwap.to.addressLength,placeholder:e.$t("bridge.targetAddress")},model:{value:e.targetAddress,callback:function(t){e.targetAddress=t},expression:"targetAddress"}}),e.assetsAmount>=e.currentBridge.min?r("div",{staticClass:"number_get"},[e._v(" "+e._s(e.$t("bridge.uWillRecive"))+" = "),r("svg-icon",{attrs:{"icon-class":e.assetsType}}),e._v(" "+e._s(e.acceptAmount)+" "+e._s("HECO"===e.assetsSwap.to.id?"W"+e.assetsType:e.assetsType)+" "),"HECO"===e.assetsSwap.to.id?r("a-tooltip",{attrs:{placement:"topLeft"}},[r("template",{slot:"title"},[r("span",[e._v(e._s(e.$t("bridge.handlingFee")))])]),r("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2):e._e()],1):e._e()],1),r("div",{staticClass:"flex-center submit"},["HECO"===e.assetsSwap.from.id&&!1===e.$eventBus.connected?r("a-button",{attrs:{block:"",type:"primary",size:"large"},on:{click:function(t){return e.$eventBus.connectWallet()}}},[e._v(" "+e._s(e.$t("default.connect"))+" ")]):r("a-button",{attrs:{block:"",type:"primary",size:"large",disabled:!e.submitCheck},on:{click:function(t){return e.confirm()}}},[e._v(" "+e._s(e.$t("bridge.confirm"))+" ")])],1)])])],1)],1)])},s=[];r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(7042),r(8309),r(1038);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function o(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}var c=r(9596),u=(r(5666),r(4723),r(4916),r(6977),r(7941),r(2479),{TRX:{source:"TPkUrLNFSKFaaNAK3FdvoaM4QQEJ6Xfntv",target:"0x9B2b638728bD08b0B021D678005e7003618Cc8c9",token:"",decimals:6,min:50,fee:30},SUN:{source:"TCawfB1LcouxZmhtZVLA2ZKjZnSCTpwoiB",target:"0x101E3ea91C002f3DBb4F5b512Ca083023bbcfa27",token:"TKkeiboTkxXKJpbmVFbv4a8ov5rAfRDMf9",decimals:18,min:.2,fee:.1},JST:{source:"TUeivuN6PexCJif6DBwNccP6AVThmX95MR",target:"0xBB2dC6FD96b2D00E17F152fDD0c06d101D6a263B",token:"TCFLL5dx5ZJdKnWuesXxi1VPwjLVmWZZy9",decimals:18,min:30,fee:20}}),d=u,l=r(2099),g=r(6064),f={name:"Bridge",data:function(){return{assetsType:"TRX",assetsList:[{name:"TRX",disabled:!1},{name:"SUN",disabled:!1},{name:"JST",disabled:!1},{name:"BTT",disabled:!0},{name:"USDJ",disabled:!0},{name:"PEARL",disabled:!0}],assetsSwap:{to:{id:"HECO",name:"Huobi ECO Chain",icon:"HECO",badge:"",addressLength:42},from:{id:"TRON",name:"TRON Network",icon:"TRX",badge:"",addressLength:34}},assetsAmount:"",assetGetToken:10,accountAddress:"",targetAddress:"",balanceTimer:null,hecoBalanceTimer:null,bridges:d}},computed:{submitCheck:function(){var e=(0,l.BigNumber)(this.assetsAmount).gte((0,l.BigNumber)(this.currentBridge.min)),t=!1,r=!1;return"TRON"===this.assetsSwap.to.id&&(this.targetAddress.match(/^T.{33}$/)&&(t=!0),(0,l.BigNumber)(this.currentBridge.HECOBalance).gte((0,l.BigNumber)(this.assetsAmount).times((0,l.BigNumber)(Math.pow(10,this.currentBridge.decimals))))&&(r=!0)),"HECO"===this.assetsSwap.to.id&&(this.targetAddress.match(/^(0x).{40}$/)&&(t=!0),(0,l.BigNumber)(this.currentBridge.balance).gte((0,l.BigNumber)(this.assetsAmount).times((0,l.BigNumber)(Math.pow(10,this.currentBridge.decimals))))&&(r=!0)),e&&t&&r},currentBridge:function(){return this.bridges[this.assetsType]},realAssetsAmount:function(){return(0,l.BigNumber)(this.assetsAmount).times((0,l.BigNumber)(Math.pow(10,this.currentBridge.decimals))).toFixed()},acceptAmount:function(){return"HECO"===this.assetsSwap.from.id?(0,l.BigNumber)(this.assetsAmount).toFixed():(0,l.BigNumber)(this.assetsAmount).minus((0,l.BigNumber)(this.currentBridge.fee)).toFixed()}},methods:{assetsChange:function(e){this.assetsType=e},maxAmount:function(){if("TRON"===this.assetsSwap.from.id){var e=this.getTronWeb();if(!0!==e)return;this.assetsAmount=(0,l.BigNumber)(this.currentBridge.balance).div((0,l.BigNumber)(Math.pow(10,this.currentBridge.decimals))).toFixed()}else this.$eventBus.connected&&this.currentBridge.HECOBalance&&(this.assetsAmount=(0,l.BigNumber)(this.currentBridge.HECOBalance).div((0,l.BigNumber)(Math.pow(10,this.currentBridge.decimals))).toFixed())},confirm:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$createElement,"TRON"!==e.assetsSwap.from.id){t.next=5;break}if(r=e.getTronWeb(),!0===r){t.next=5;break}return t.abrupt("return");case 5:e.$confirm({title:e.$t("bridge.confirmTargetAddress"),width:450,content:function(t){return t("div",{style:"color:red;"},[e.targetAddress])},onOk:function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("TRON"!==e.assetsSwap.from.id){t.next=4;break}return t.next=3,e.deposit(e.assetsType,e.realAssetsAmount,e.targetAddress).catch((function(t){console.log(t),e.$notification.error({message:e.$t("bridge.insufficientBalance"),description:e.$t("bridge.insufficientBalanceMsg"),duration:3e3})}));case 3:return t.abrupt("return",!0);case 4:if(e.$notification.success({message:e.$t("bridge.transaction_success"),description:e.$t("bridge.awaitingNodeConfirmation"),duration:3e3}),"HECO"!==e.assetsSwap.from.id){t.next=8;break}return t.next=8,e.burn();case 8:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}(),onCancel:function(){console.log("Cancel")},class:"test"});case 6:case"end":return t.stop()}}),t)})))()},getTronWeb:function(){if(window.tronWeb){if(window.tronWeb.defaultAddress.base58)return this.accountAddress=window.tronWeb.defaultAddress.base58,!0;console.log("error"),this.$notification.error({message:this.$t("bridge.please_unlock_title"),description:this.$t("bridge.please_unlock_msg"),duration:0})}else this.$notification.error({message:this.$t("bridge.chainId_error_title"),description:this.$t("bridge.chainId_error_msg"),duration:0})},fetchMyBalance:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBalanceOf(e.accountAddress);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},fetchBalanceOf:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark((function r(){var n,s,a,i,c,u,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://api.trongrid.io/v1/accounts/"+e).then((function(e){return e.json()}));case 2:if(n=r.sent,s=n.data,s[0]&&(t.$set(t.bridges.TRX,"balance",s[0].balance),s[0].trc20)){a=o(s[0].trc20);try{for(a.s();!(i=a.n()).done;)for(c=i.value,u=0;u<Object.keys(t.bridges).length;u++)d=Object.keys(t.bridges)[u],t.bridges[d].token===Object.keys(c)[0]&&t.$set(t.bridges[d],"balance",(0,l.BigNumber)(Object.values(c)[0]).toFixed())}catch(g){a.e(g)}finally{a.f()}}case 5:case"end":return r.stop()}}),r)})))()},fetchHecoBalance:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$set(e.bridges.TRX,"HECOBalance",e.$eventBus.dataSource.yields[19]),e.$set(e.bridges.SUN,"HECOBalance",e.$eventBus.dataSource.yields[20]),e.$set(e.bridges.JST,"HECOBalance",e.$eventBus.dataSource.yields[21]);case 3:case"end":return t.stop()}}),t)})))()},deposit:function(e,t,r){var n=this;return(0,c.Z)(regeneratorRuntime.mark((function s(){var a,i,o,c,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=d[n.assetsType],!a.token){s.next=16;break}return s.next=4,window.tronWeb.contract().at(a.token);case 4:return i=s.sent,s.next=7,i.allowance(n.accountAddress,n.currentBridge.source).call();case 7:if(o=s.sent,console.log("Approve",(0,l.BigNumber)(o).toFixed(),t),console.log("Allowed",o),!(0,l.BigNumber)(o).lt((0,l.BigNumber)(t))){s.next=16;break}return console.log("Approve"),s.next=14,i.approve(a.source,(0,l.BigNumber)(10).pow((0,l.BigNumber)(28)).toFixed()).send();case 14:s.sent,console.log("Approve Done");case 16:return s.next=18,window.tronWeb.contract().at(a.source);case 18:return c=s.sent,u=c.deposit(t,r),console.log("Send deposit"),s.next=23,u.send({feeLimit:1e8,callValue:"TRX"===e?t:0});case 23:n.$notification.destroy(),n.$notification.success({message:n.$t("default.transaction_submitted"),duration:3e3});case 25:case"end":return s.stop()}}),s)})))()},burn:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=new e.$eventBus.web3.eth.Contract(g.tS,e.currentBridge.target),n=r.methods.burn(e.targetAddress,e.realAssetsAmount).send(e.$eventBus.getTxParams()),n.on("transactionHash",(function(t){s=t,e.$notification.destroy(),e.$notification.success({message:e.$t("default.transaction_submitted"),description:function(r){return r("div",[r("a",{domProps:{href:"https://hecoinfo.com/tx/".concat(t),target:"_blank"}},e.$t("default.goCheck"))])},duration:0}),console.log("deposit submit, hash",t)})),n.off("receipt"),n.on("receipt",function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.assetsAmount=0,console.log("deposit success",r.transactionHash),e.$notification.destroy(),e.$notification.success({message:e.$t("default.transaction_success"),duration:2}),e.$emit("DEPOSIT_SUCCESS",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.off("error"),n.on("error",(function(t){e.$emit("DEPOSIT_FAILED",t),e.$notification.destroy(),s?e.$notification.error({message:e.$t("default.transaction_failed"),description:function(t){return t("div",[t("a",{domProps:{href:"https://hecoinfo.com/tx/".concat(s),target:"_blank"}},e.$t("default.goCheck"))])}}):e.$notification.open({message:e.$t("default.transaction_canceled")})}));case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this,t=100,r=function r(){console.log("retry"),e.balanceTimer=setTimeout((0,c.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!window.tronWeb){n.next=8;break}if(!window.tronWeb.defaultAddress.base58){n.next=8;break}return e.accountAddress=window.tronWeb.defaultAddress.base58,clearTimeout(e.balanceTimer),n.next=7,e.fetchMyBalance();case 7:t=4e3;case 8:r(),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](0),t+=100,r();case 15:case"end":return n.stop()}}),n,null,[[0,11]])}))),t)},n=1e3,s=function t(){console.log("refresh"),e.hecoBalanceTimer=setTimeout((0,c.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!e.$eventBus.connected){r.next=6;break}return clearTimeout(e.hecoBalanceTimer),n=500,r.next=6,e.fetchHecoBalance();case 6:t(),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),t();case 12:case"end":return r.stop()}}),r,null,[[0,9]])}))),n)};r(),s()},beforeDestroy:function(){clearTimeout(this.balanceTimer),clearTimeout(this.hecoBalanceTimer)},created:function(){var e=this;window.addEventListener("message",(function(t){t.data.message&&"tabReply"===t.data.message.action&&t.data.message.data.data.node&&"_"!==t.data.message.data.data.node.chain&&(e.$notification.destroy(),e.$notification.error({message:e.$t("bridge.chainId_error_title"),description:e.$t("bridge.chainId_error_msg"),duration:0})),t.data.message&&"setNode"===t.data.message.action&&(console.log("setNode event",t.data.message,"_"!==t.data.message.data.node.chain),"_"!==t.data.message.data.node.chain&&(e.$notification.destroy(),e.$notification.error({message:e.$t("bridge.chainId_error_title"),description:e.$t("bridge.chainId_error_msg"),duration:0})))}))}},m=f,p=r(5961),b=(0,p.Z)(m,n,s,!1,null,"e62b7c4e",null),h=b.exports},8457:function(e,t,r){"use strict";var n=r(9974),s=r(7908),a=r(3411),i=r(7659),o=r(7466),c=r(6135),u=r(1246);e.exports=function(e){var t,r,d,l,g,f,m=s(e),p="function"==typeof this?this:Array,b=arguments.length,h=b>1?arguments[1]:void 0,v=void 0!==h,w=u(m),_=0;if(v&&(h=n(h,b>2?arguments[2]:void 0,2)),void 0==w||p==Array&&i(w))for(t=o(m.length),r=new p(t);t>_;_++)f=v?h(m[_],_):m[_],c(r,_,f);else for(l=w.call(m),g=l.next,r=new p;!(d=g.call(l)).done;_++)f=v?a(l,h,[d.value,_],!0):d.value,c(r,_,f);return r.length=_,r}},3411:function(e,t,r){var n=r(9670),s=r(9212);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(i){throw s(e),i}}},8415:function(e,t,r){"use strict";var n=r(9958),s=r(4488);e.exports="".repeat||function(e){var t=String(s(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},863:function(e,t,r){var n=r(4326);e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},1038:function(e,t,r){var n=r(2109),s=r(8457),a=r(7072),i=!a((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:s})},6977:function(e,t,r){"use strict";var n=r(2109),s=r(9958),a=r(863),i=r(8415),o=r(7293),c=1..toFixed,u=Math.floor,d=function(e,t,r){return 0===t?r:t%2===1?d(e,t-1,r*e):d(e*e,t/2,r)},l=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},g=function(e,t,r){var n=-1,s=r;while(++n<6)s+=t*e[n],e[n]=s%1e7,s=u(s/1e7)},f=function(e,t){var r=6,n=0;while(--r>=0)n+=e[r],e[r]=u(n/t),n=n%t*1e7},m=function(e){var t=6,r="";while(--t>=0)if(""!==r||0===t||0!==e[t]){var n=String(e[t]);r=""===r?n:r+i.call("0",7-n.length)+n}return r},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,r,n,o,c=a(this),u=s(e),p=[0,0,0,0,0,0],b="",h="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(b="-",c=-c),c>1e-21)if(t=l(c*d(2,69,1))-69,r=t<0?c*d(2,-t,1):c/d(2,t,1),r*=4503599627370496,t=52-t,t>0){g(p,0,r),n=u;while(n>=7)g(p,1e7,0),n-=7;g(p,d(10,n,1),0),n=t-1;while(n>=23)f(p,1<<23),n-=23;f(p,1<<n),g(p,1,1),f(p,2),h=m(p)}else g(p,0,r),g(p,1<<-t,0),h=m(p)+i.call("0",u);return u>0?(o=h.length,h=b+(o<=u?"0."+i.call("0",u-o)+h:h.slice(0,o-u)+"."+h.slice(o-u))):h=b+h,h}})}}]);